<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Skeletal Animation Mulrithread: main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Skeletal Animation Mulrithread
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;future&gt;</code><br />
<code>#include &quot;<a class="el" href="exoskeleton_8h_source.html">./include/lib/exoskeleton.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="skeletal__animation_8h_source.html">./include/lib/skeletal_animation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="animated__hand_8h_source.html">./include/lib/animated_hand.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="menu__handler_8h_source.html">./include/lib/menu_handler.h</a>&quot;</code><br />
<code>#include &lt;igl/opengl/glfw/Viewer.h&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/imgui/ImGuiPlugin.h&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/imgui/ImGuiMenu.h&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/imgui/ImGuiHelpers.h&gt;</code><br />
<code>#include &lt;igl/slim.h&gt;</code><br />
<code>#include &lt;igl/Camera.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#amain_8cpp" alt=""/></div>
<map name="amain_8cpp" id="amain_8cpp">
<area shape="rect" title=" " alt="" coords="3267,5,3349,32"/>
<area shape="rect" title=" " alt="" coords="1297,408,1377,435"/>
<area shape="rect" title=" " alt="" coords="880,87,941,114"/>
<area shape="rect" href="exoskeleton_8h.html" title=" " alt="" coords="395,251,587,278"/>
<area shape="rect" href="skeletal__animation_8h.html" title=" " alt="" coords="1752,80,1904,121"/>
<area shape="rect" href="animated__hand_8h.html" title=" " alt="" coords="611,251,746,278"/>
<area shape="rect" title=" " alt="" coords="192,251,371,278"/>
<area shape="rect" href="menu__handler_8h.html" title=" " alt="" coords="3083,169,3210,196"/>
<area shape="rect" title=" " alt="" coords="3318,244,3477,285"/>
<area shape="rect" title=" " alt="" coords="3501,244,3659,285"/>
<area shape="rect" title=" " alt="" coords="3683,244,3842,285"/>
<area shape="rect" title=" " alt="" coords="3917,87,4000,114"/>
<area shape="rect" title=" " alt="" coords="4025,87,4130,114"/>
<area shape="rect" title=" " alt="" coords="474,408,537,435"/>
<area shape="rect" title=" " alt="" coords="667,333,717,360"/>
<area shape="rect" title=" " alt="" coords="389,333,453,360"/>
<area shape="rect" href="utils_8h.html" title=" " alt="" coords="579,333,642,360"/>
<area shape="rect" href="serial__com_8h.html" title=" " alt="" coords="11,333,117,360"/>
<area shape="rect" title=" " alt="" coords="1112,408,1187,435"/>
<area shape="rect" title=" " alt="" coords="653,408,739,435"/>
<area shape="rect" title=" " alt="" coords="561,408,629,435"/>
<area shape="rect" title=" " alt="" coords="5,408,123,435"/>
<area shape="rect" title=" " alt="" coords="2067,169,2138,196"/>
<area shape="rect" title=" " alt="" coords="2708,251,2785,278"/>
<area shape="rect" title=" " alt="" coords="2162,169,2321,196"/>
<area shape="rect" href="hand_8h.html" title=" " alt="" coords="1421,169,1488,196"/>
<area shape="rect" title=" " alt="" coords="958,251,1079,278"/>
<area shape="rect" title=" " alt="" coords="1104,251,1211,278"/>
<area shape="rect" title=" " alt="" coords="1235,251,1373,278"/>
<area shape="rect" title=" " alt="" coords="1448,251,1651,278"/>
<area shape="rect" title=" " alt="" coords="1675,251,1864,278"/>
<area shape="rect" title=" " alt="" coords="1888,251,1968,278"/>
<area shape="rect" title=" " alt="" coords="1992,251,2115,278"/>
<area shape="rect" title=" " alt="" coords="2139,251,2331,278"/>
<area shape="rect" title=" " alt="" coords="2355,251,2538,278"/>
<area shape="rect" title=" " alt="" coords="2562,251,2633,278"/>
<area shape="rect" title=" " alt="" coords="771,251,933,278"/>
<area shape="rect" title=" " alt="" coords="1563,169,1690,196"/>
<area shape="rect" title=" " alt="" coords="1715,169,1840,196"/>
<area shape="rect" href="euler__rotations_8h.html" title=" " alt="" coords="750,333,882,360"/>
<area shape="rect" title=" " alt="" coords="763,408,914,435"/>
<area shape="rect" title=" " alt="" coords="3221,251,3294,278"/>
<area shape="rect" title=" " alt="" coords="2860,251,2951,278"/>
<area shape="rect" title=" " alt="" coords="2975,251,3054,278"/>
<area shape="rect" title=" " alt="" coords="3079,251,3145,278"/>
</map>
</div>
</div>
<p><a href="main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the main execution function. It first initiates the libigl viewer and then calls the menu handler from ImGui. It then defines the exoskeleton handlers and defines the callback function for the rendering loop. For a better understanding of the dependencies see the provided call graph.  <a href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the main execution function. It first initiates the libigl viewer and then calls the menu handler from ImGui. It then defines the exoskeleton handlers and defines the callback function for the rendering loop. For a better understanding of the dependencies see the provided call graph. </p>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00023">23</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>{</div>
<div class="line"><span class="lineno">   25</span>  <span class="comment">// Animation</span></div>
<div class="line"><span class="lineno">   26</span>  igl::opengl::glfw::Viewer viewer;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>  <span class="comment">// Attach a menu plugin</span></div>
<div class="line"><span class="lineno">   29</span>  igl::opengl::glfw::imgui::ImGuiPlugin plugin;</div>
<div class="line"><span class="lineno">   30</span>  viewer.plugins.push_back(&amp;plugin);</div>
<div class="line"><span class="lineno">   31</span>  igl::opengl::glfw::imgui::ImGuiMenu menu;</div>
<div class="line"><span class="lineno">   32</span>  plugin.widgets.push_back(&amp;menu);</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>  <span class="comment">// Menu handler</span></div>
<div class="line"><span class="lineno">   35</span>  <a class="code hl_class" href="classMenuHandler.html">MenuHandler</a> menu_handler(&amp;menu);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>  <span class="comment">// Generate lamda function pointing to the menu callback</span></div>
<div class="line"><span class="lineno">   38</span>  <span class="keyword">auto</span> lamda_menu_fun = [&amp;menu_handler]() { <span class="keywordflow">return</span> menu_handler.callback(); };</div>
<div class="line"><span class="lineno">   39</span>  menu.callback_draw_viewer_menu = lamda_menu_fun;</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>  <span class="comment">// Initialize left exoskeleton handle</span></div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_class" href="classExoskeleton.html">Exoskeleton</a> left_exoskeleton;</div>
<div class="line"><span class="lineno">   43</span>  </div>
<div class="line"><span class="lineno">   44</span>  <span class="comment">// Initialize animated hand handler</span></div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_class" href="classAnimatedHand.html">AnimatedHand</a> anim_hand; </div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>  <span class="comment">// Initialize skeletal animation </span></div>
<div class="line"><span class="lineno">   48</span>  <a class="code hl_class" href="classSkeletalAnimation.html">SkeletalAnimation</a> sa;</div>
<div class="line"><span class="lineno">   49</span>  sa.<a class="code hl_function" href="classSkeletalAnimation.html#a9e13b02a0c0cf4bc9d253c9c6bf92d34">initialize</a>(&amp;viewer, &amp;left_exoskeleton, &amp;anim_hand, &amp;menu_handler);</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>  <span class="comment">// Generate lamda function pointing to the animation loop member function</span></div>
<div class="line"><span class="lineno">   52</span>  <span class="keyword">auto</span> lamda_anim_fun =</div>
<div class="line"><span class="lineno">   53</span>      [&amp;sa](igl::opengl::glfw::Viewer&amp; viewer) { <span class="keywordflow">return</span> sa.<a class="code hl_function" href="classSkeletalAnimation.html#a9468d895fd44e9d9220cf266396bdf6f">animation_loop</a>(viewer); };</div>
<div class="line"><span class="lineno">   54</span>  </div>
<div class="line"><span class="lineno">   55</span>  <span class="comment">// Set animation</span></div>
<div class="line"><span class="lineno">   56</span>  viewer.data().show_overlay_depth = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   57</span>  viewer.data().line_width = 1;</div>
<div class="line"><span class="lineno">   58</span>  viewer.data().show_lines = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   59</span>  viewer.callback_pre_draw = lamda_anim_fun;</div>
<div class="line"><span class="lineno">   60</span>  viewer.core().is_animating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   61</span>  viewer.core().animation_max_fps = 30;</div>
<div class="line"><span class="lineno">   62</span>  viewer.launch();</div>
<div class="line"><span class="lineno">   63</span>}</div>
<div class="ttc" id="aclassAnimatedHand_html"><div class="ttname"><a href="classAnimatedHand.html">AnimatedHand</a></div><div class="ttdef"><b>Definition:</b> <a href="animated__hand_8h_source.html#l00009">animated_hand.h:10</a></div></div>
<div class="ttc" id="aclassExoskeleton_html"><div class="ttname"><a href="classExoskeleton.html">Exoskeleton</a></div><div class="ttdoc">Class Exoskeleton.</div><div class="ttdef"><b>Definition:</b> <a href="exoskeleton_8h_source.html#l00019">exoskeleton.h:20</a></div></div>
<div class="ttc" id="aclassMenuHandler_html"><div class="ttname"><a href="classMenuHandler.html">MenuHandler</a></div><div class="ttdoc">Class MenuHandler.</div><div class="ttdef"><b>Definition:</b> <a href="menu__handler_8h_source.html#l00020">menu_handler.h:21</a></div></div>
<div class="ttc" id="aclassSkeletalAnimation_html"><div class="ttname"><a href="classSkeletalAnimation.html">SkeletalAnimation</a></div><div class="ttdoc">Class SkeletalAnimation.</div><div class="ttdef"><b>Definition:</b> <a href="skeletal__animation_8h_source.html#l00038">skeletal_animation.h:39</a></div></div>
<div class="ttc" id="aclassSkeletalAnimation_html_a9468d895fd44e9d9220cf266396bdf6f"><div class="ttname"><a href="classSkeletalAnimation.html#a9468d895fd44e9d9220cf266396bdf6f">SkeletalAnimation::animation_loop</a></div><div class="ttdeci">bool animation_loop(igl::opengl::glfw::Viewer &amp;viewer)</div><div class="ttdoc">Animation loop callback.</div><div class="ttdef"><b>Definition:</b> <a href="skeletal__animation_8cpp_source.html#l00033">skeletal_animation.cpp:33</a></div></div>
<div class="ttc" id="aclassSkeletalAnimation_html_a9e13b02a0c0cf4bc9d253c9c6bf92d34"><div class="ttname"><a href="classSkeletalAnimation.html#a9e13b02a0c0cf4bc9d253c9c6bf92d34">SkeletalAnimation::initialize</a></div><div class="ttdeci">void initialize(igl::opengl::glfw::Viewer *viewer, Exoskeleton *left_exo, AnimatedHand *anim_hand, MenuHandler *menu_handler)</div><div class="ttdoc">Initialize animation.</div><div class="ttdef"><b>Definition:</b> <a href="skeletal__animation_8cpp_source.html#l00011">skeletal_animation.cpp:11</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph.png" border="0" usemap="#amain_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph" alt=""/></div>
<map name="amain_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph" id="amain_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph">
<area shape="rect" title="This is the main execution function. It first initiates the libigl viewer and then calls the menu han..." alt="" coords="5,252,60,279"/>
<area shape="rect" href="classSkeletalAnimation.html#a9468d895fd44e9d9220cf266396bdf6f" title="Animation loop callback." alt="" coords="119,122,268,163"/>
<area shape="rect" href="classMenuHandler.html#a425100756a8e8bfae6ed09827767505b" title="Menu callback function." alt="" coords="108,252,279,279"/>
<area shape="rect" href="classSkeletalAnimation.html#a9e13b02a0c0cf4bc9d253c9c6bf92d34" title="Initialize animation." alt="" coords="119,303,268,345"/>
<area shape="rect" href="classMenuHandler.html#a0d1a6b3c99aabe3e3d2f88e3a6b15b15" title="Check whether the USB ports have been sent by the user (Is OK pressed?)." alt="" coords="327,5,532,32"/>
<area shape="rect" href="classAnimatedHand.html#addb9ca7250c9bd196595cd10ced9e727" title=" " alt="" coords="336,57,523,98"/>
<area shape="rect" href="classExoskeleton.html#a28cfac80989e1548d0fcec09e2c5b1d6" title="Get joint angles." alt="" coords="346,122,513,163"/>
<area shape="rect" href="classSkeletalAnimation.html#abc68894dabf2a53402bd74dd1eca6ebb" title="Setup meshes." alt="" coords="354,217,505,258"/>
<area shape="rect" href="classUtils.html#ade242e15e15094b75fdb9d5163eb8a5b" title="Convert degrees to rad." alt="" coords="611,64,724,91"/>
<area shape="rect" href="classExoskeleton.html#ae3bd5db26fae85588e9a7efd202ced50" title="Read incoming data." alt="" coords="803,199,972,241"/>
<area shape="rect" href="classUtils.html#a6e7193f2c602f2f8e1553c2cfefe9979" title="Convert comma&#45;delimited string to double vector of analog values." alt="" coords="1020,199,1176,241"/>
<area shape="rect" href="classMenuHandler.html#a99ef8b4eed51bb9d82fec9f8243f9674" title="Get the USB port for the left exoskeleton." alt="" coords="584,166,751,207"/>
<area shape="rect" href="classMenuHandler.html#a48e6fb0053eab65d523920d1c1b2bc6b" title="Get the USB port for the right exoskeleton." alt="" coords="580,231,755,273"/>
<area shape="rect" href="classExoskeleton.html#a16bc036a0caad1882dd602d047b1d843" title="Initialize the exoskeleton." alt="" coords="585,297,750,324"/>
<area shape="rect" href="classMenuHandler.html#a169a4ba92e72cd6c5a699151ea4e0bf0" title="Get available USB ports." alt="" coords="327,307,532,349"/>
<area shape="rect" href="classMenuHandler.html#ab1d5562703dfed280cd59342d6318cad" title="Generate absolute file name." alt="" coords="580,349,755,390"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
